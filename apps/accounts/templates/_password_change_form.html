{% load widget_tweaks %}

<form hx-post="{% url 'accounts:change_password' %}"
      hx-target="#password-modal-content"
      hx-swap="innerHTML">
  {% csrf_token %}

  <div class="modal-body">
    {% if password_form.non_field_errors %}
      <div class="alert alert-danger mb-3">
        {% for e in password_form.non_field_errors %}<div>{{ e }}</div>{% endfor %}
      </div>
    {% endif %}

    {% for field in password_form %}
      <div class="mb-3">
        <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
        {% render_field field class+="form-control" placeholder=field.label %}
        {% if field.help_text %}<div class="form-text">{{ field.help_text|safe }}</div>{% endif %}
        {% for error in field.errors %}<div class="invalid-feedback d-block">{{ error }}</div>{% endfor %}
      </div>
    {% endfor %}
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-light-secondary" data-bs-dismiss="modal">Hủy</button>
    <button type="submit" class="btn btn-primary">Lưu thay đổi</button>
  </div>
</form>
